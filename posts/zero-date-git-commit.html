<!DOCTYPE html><html lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name="theme-color" content="#66023C"><meta name="color-scheme" content="light dark"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><style type="text/css">:root{--footer-height:9rem;--content-width:40rem;--content-x-padding:1.5rem}h1{font-size:3rem;line-height:1.1}body{line-height:1.5;margin:0}#nav-body{min-height:calc(100svh - var(--footer-height))}main,nav,#footer-content{max-width:var(--content-width);margin:0 auto}main,nav{padding:1rem var(--content-x-padding)}nav a{font-size:smaller;text-decoration:none;font-weight:bold}nav ul,nav li{display:inline;margin-right:1em}footer{font-size:smaller;background:#66023C;color:white}#snail{max-width:50%;margin:0 auto;height:auto;display:block}#footer-content{height:var(--footer-height);padding:0 var(--content-x-padding);display:flex;align-items:center}pre code{overflow:auto}main{hyphens:auto}body{font-family:sans-serif}h1{hyphens:none}.aside,blockquote,pre code{padding:.5em}.aside{border-top:thin solid;border-bottom:thin solid;font-size:smaller}p:first-child{margin-top:0}p:last-child{margin-bottom:0}img{max-width:100%}sup{vertical-align:baseline;position:relative;top:-0.4em}blockquote,li,p{text-align:justify}span.published-date{font-size:smaller}code{font-style:normal;padding:.1em .2em;white-space:pre;font-family:monospace,monospace}pre code{border:thin solid;display:block;font-size:smaller}blockquote{margin:0;border-left:thin solid;font-style:oblique}ol,ul{margin-left:0;padding-left:0}#post-listing li{list-style-type:none}#skip{background:#66023C;color:white;padding:.3em;position:absolute;transform:translateY(-100%)}#skip:focus{transform:translateY(0%)}</style><title>TIL: Commit with zero date to avoid creating a reflog entry</title><script>window.matchMedia('(prefers-color-scheme:dark)').addEventListener('change',event=>document.documentElement.style["color-scheme"]=event.matches?"dark":"light");</script><div id="nav-body"><a href="#main" id="skip">Skip to content</a><nav><ul><li><a href="/index.html">snails.dev</a></ul></nav><main id="#main"><section id="TIL:-Commit-with-zero-date-to-avoid-creating-a-reflog-entry"><h1>TIL: Commit with zero date to avoid creating a reflog entry</h1><p><span class="published-date">2023-03-07 <s>1970-01-01</s></span><p>If you ever find yourself writing a tool around git, you might find this useful.<p>If you want to make a commit that doesn‚Äôt appear in the reflog, simply use zero Unix time for commit date, like this:<pre><code class="language-sh">GIT_COMMITTER_DATE="@0 +0000" git commit
</code></pre><p>As far as I know this is not documented anywhere. I found out about this only by accident when I wanted to create commits with deterministic hashes.<p>Another way to make such a commit is to use the <code>commit-tree</code> plumbing command, which is just as magical I guess.</section></main></div><footer><div id="footer-content"><div><p>This blog is powered by sed. And snails üêå<p>Gzipped with ‚ù§Ô∏è‚Äîhow else‚Äîdown to 2.0K</div></div></footer>
